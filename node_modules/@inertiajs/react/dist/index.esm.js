import{router as ke}from"@inertiajs/core";import{setupProgress as X}from"@inertiajs/core";import{createElement as Y}from"react";import{createHeadManager as J,router as $}from"@inertiajs/core";import{createElement as R,useEffect as G,useMemo as Q,useState as z}from"react";import{createContext as W}from"react";var B=W(void 0);B.displayName="InertiaHeadContext";var A=B;import{createContext as q}from"react";var N=q(void 0);N.displayName="InertiaPageContext";var E=N;function L({children:l,initialPage:c,initialComponent:s,resolveComponent:p,titleCallback:a,onHeadUpdate:P}){let[d,S]=z({component:s||null,page:c,key:null}),u=Q(()=>J(typeof window>"u",a||(f=>f),P||(()=>{})),[]);if(G(()=>{$.init({initialPage:c,resolveComponent:p,swapComponent:async({component:f,page:e,preserveState:i})=>{S(r=>({component:f,page:e,key:i?r.key:Date.now()}))}}),$.on("navigate",()=>u.forceUpdate())},[]),!d.component)return R(A.Provider,{value:u},R(E.Provider,{value:d.page},null));let g=l||(({Component:f,props:e,key:i})=>{let r=R(f,{key:i,...e});return typeof f.layout=="function"?f.layout(r):Array.isArray(f.layout)?f.layout.concat(r).reverse().reduce((y,T)=>R(T,{children:y,...e})):r});return R(A.Provider,{value:u},R(E.Provider,{value:d.page},g({Component:d.component,key:d.key,props:d.page.props})))}L.displayName="Inertia";async function U({id:l="app",resolve:c,setup:s,title:p,progress:a={},page:P,render:d}){let S=typeof window>"u",u=S?null:document.getElementById(l),g=P||JSON.parse(u.dataset.page),f=r=>Promise.resolve(c(r)).then(y=>y.default||y),e=[],i=await f(g.component).then(r=>s({el:u,App:L,props:{initialPage:g,initialComponent:r,resolveComponent:f,titleCallback:p,onHeadUpdate:S?y=>e=y:null}}));if(!S&&a&&X(a),S){let r=await d(Y("div",{id:l,"data-page":JSON.stringify(g)},i));return{head:e,body:r}}}import Z,{useContext as ee,useEffect as te,useMemo as re}from"react";var oe=function({children:l,title:c}){let s=ee(A),p=re(()=>s.createProvider(),[s]);te(()=>()=>{p.disconnect()},[p]);function a(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1}function P(e){let i=Object.keys(e.props).reduce((r,y)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(y))return r;let T=e.props[y];return T===""?r+` ${y}`:r+` ${y}="${T}"`},"");return`<${e.type}${i}>`}function d(e){return typeof e.props.children=="string"?e.props.children:e.props.children.reduce((i,r)=>i+S(r),"")}function S(e){let i=P(e);return e.props.children&&(i+=d(e)),e.props.dangerouslySetInnerHTML&&(i+=e.props.dangerouslySetInnerHTML.__html),a(e)||(i+=`</${e.type}>`),i}function u(e){return Z.cloneElement(e,{inertia:e.props["head-key"]!==void 0?e.props["head-key"]:""})}function g(e){return S(u(e))}function f(e){let i=(Array.isArray(e)?e:[e]).filter(r=>r).map(r=>g(r));return c&&!i.find(r=>r.startsWith("<title"))&&i.push(`<title inertia>${c}</title>`),i}return p.update(f(l)),null},ne=oe;import{mergeDataIntoQueryString as ae,Method as se,router as ie,shouldIntercept as pe}from"@inertiajs/core";import{createElement as ue,forwardRef as ce,useCallback as le}from"react";var k=()=>{},de=ce(({children:l,as:c="a",data:s={},href:p,method:a=se.GET,preserveScroll:P=!1,preserveState:d=null,replace:S=!1,only:u=[],headers:g={},queryStringArrayFormat:f="brackets",onClick:e=k,onCancelToken:i=k,onBefore:r=k,onStart:y=k,onProgress:T=k,onFinish:H=k,onCancel:F=k,onSuccess:M=k,onError:b=k,...O},I)=>{let x=le(o=>{e(o),pe(o)&&(o.preventDefault(),ie.visit(p,{data:s,method:a,preserveScroll:P,preserveState:d??a!=="get",replace:S,only:u,headers:g,onCancelToken:i,onBefore:r,onStart:y,onProgress:T,onFinish:H,onCancel:F,onSuccess:M,onError:b}))},[s,p,a,P,d,S,u,g,e,i,r,y,T,H,F,M,b]);c=c.toLowerCase(),a=a.toLowerCase();let[h,t]=ae(a,p||"",s,f);return p=h,s=t,c==="a"&&a!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${p}" method="${a}" as="button">...</Link>`),ue(c,{...O,...c==="a"?{href:p}:{},ref:I,onClick:x},l)}),fe=de;import{router as j}from"@inertiajs/core";import ye from"lodash.isequal";import{useCallback as Se,useEffect as Te,useRef as D,useState as v}from"react";import{router as V}from"@inertiajs/core";import{useEffect as me,useState as ge}from"react";function w(l,c){let[s,p]=ge(()=>{let a=V.restore(c);return a!==void 0?a:l});return me(()=>{V.remember(s,c)},[s,c]),[s,p]}function K(l,c){let s=D(null),p=typeof l=="string"?l:null,[a,P]=v((typeof l=="string"?c:l)||{}),d=D(null),S=D(null),[u,g]=p?w(a,`${p}:data`):v(a),[f,e]=p?w({},`${p}:errors`):v({}),[i,r]=v(!1),[y,T]=v(!1),[H,F]=v(null),[M,b]=v(!1),[O,I]=v(!1),x=t=>t;Te(()=>(s.current=!0,()=>{s.current=!1}),[]);let h=Se((t,o,n={})=>{let C={...n,onCancelToken:m=>{if(d.current=m,n.onCancelToken)return n.onCancelToken(m)},onBefore:m=>{if(b(!1),I(!1),clearTimeout(S.current),n.onBefore)return n.onBefore(m)},onStart:m=>{if(T(!0),n.onStart)return n.onStart(m)},onProgress:m=>{if(F(m),n.onProgress)return n.onProgress(m)},onSuccess:m=>{if(s.current&&(T(!1),F(null),e({}),r(!1),b(!0),I(!0),S.current=setTimeout(()=>{s.current&&I(!1)},2e3)),n.onSuccess)return n.onSuccess(m)},onError:m=>{if(s.current&&(T(!1),F(null),e(m),r(!0)),n.onError)return n.onError(m)},onCancel:()=>{if(s.current&&(T(!1),F(null)),n.onCancel)return n.onCancel()},onFinish:()=>{if(s.current&&(T(!1),F(null)),d.current=null,n.onFinish)return n.onFinish()}};t==="delete"?j.delete(o,{...C,data:x(u)}):j[t](o,x(u),C)},[u,e]);return{data:u,setData(t,o){g(typeof t=="string"?{...u,[t]:o}:typeof t=="function"?n=>t(n):t)},isDirty:!ye(u,a),errors:f,hasErrors:i,processing:y,progress:H,wasSuccessful:M,recentlySuccessful:O,transform(t){x=t},setDefaults(t,o){P(typeof t>"u"?()=>u:n=>({...n,...typeof t=="string"?{[t]:o}:t}))},reset(...t){t.length===0?g(a):g(Object.keys(a).filter(o=>t.includes(o)).reduce((o,n)=>(o[n]=a[n],o),{...u}))},setError(t,o){e(n=>{let C={...n,...typeof t=="string"?{[t]:o}:t};return r(Object.keys(C).length>0),C})},clearErrors(...t){e(o=>{let n=Object.keys(o).reduce((C,m)=>({...C,...t.length>0&&!t.includes(m)?{[m]:o[m]}:{}}),{});return r(Object.keys(n).length>0),n})},submit:h,get(t,o){h("get",t,o)},post(t,o){h("post",t,o)},put(t,o){h("put",t,o)},patch(t,o){h("patch",t,o)},delete(t,o){h("delete",t,o)},cancel(){d.current&&d.current.cancel()}}}import{useContext as Pe}from"react";function _(){let l=Pe(E);if(!l)throw new Error("usePage must be used within the Inertia component");return l}var gt=ke;export{ne as Head,fe as Link,U as createInertiaApp,gt as router,K as useForm,_ as usePage,w as useRemember};
//# sourceMappingURL=index.esm.js.map
