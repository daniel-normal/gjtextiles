var se=Object.create;var N=Object.defineProperty;var ie=Object.getOwnPropertyDescriptor;var pe=Object.getOwnPropertyNames;var ue=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty;var le=(r,n)=>{for(var o in n)N(r,o,{get:n[o],enumerable:!0})},J=(r,n,o,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of pe(n))!ce.call(r,a)&&a!==o&&N(r,a,{get:()=>n[a],enumerable:!(u=ie(n,a))||u.enumerable});return r};var G=(r,n,o)=>(o=r!=null?se(ue(r)):{},J(n||!r||!r.__esModule?N(o,"default",{value:r,enumerable:!0}):o,r)),de=r=>J(N({},"__esModule",{value:!0}),r);var ye={};le(ye,{Head:()=>te,Link:()=>re,createInertiaApp:()=>j,router:()=>ge,useForm:()=>W,usePage:()=>q,useRemember:()=>A});module.exports=de(ye);var ae=require("@inertiajs/core");var Z=require("@inertiajs/core"),ee=require("react");var O=require("@inertiajs/core"),k=require("react");var Q=require("react"),z=(0,Q.createContext)(void 0);z.displayName="InertiaHeadContext";var M=z;var X=require("react"),Y=(0,X.createContext)(void 0);Y.displayName="InertiaPageContext";var L=Y;function $({children:r,initialPage:n,initialComponent:o,resolveComponent:u,titleCallback:a,onHeadUpdate:F}){let[d,T]=(0,k.useState)({component:o||null,page:n,key:null}),l=(0,k.useMemo)(()=>(0,O.createHeadManager)(typeof window>"u",a||(f=>f),F||(()=>{})),[]);if((0,k.useEffect)(()=>{O.router.init({initialPage:n,resolveComponent:u,swapComponent:async({component:f,page:e,preserveState:c})=>{T(s=>({component:f,page:e,key:c?s.key:Date.now()}))}}),O.router.on("navigate",()=>l.forceUpdate())},[]),!d.component)return(0,k.createElement)(M.Provider,{value:l},(0,k.createElement)(L.Provider,{value:d.page},null));let y=r||(({Component:f,props:e,key:c})=>{let s=(0,k.createElement)(f,{key:c,...e});return typeof f.layout=="function"?f.layout(s):Array.isArray(f.layout)?f.layout.concat(s).reverse().reduce((S,P)=>(0,k.createElement)(P,{children:S,...e})):s});return(0,k.createElement)(M.Provider,{value:l},(0,k.createElement)(L.Provider,{value:d.page},y({Component:d.component,key:d.key,props:d.page.props})))}$.displayName="Inertia";async function j({id:r="app",resolve:n,setup:o,title:u,progress:a={},page:F,render:d}){let T=typeof window>"u",l=T?null:document.getElementById(r),y=F||JSON.parse(l.dataset.page),f=s=>Promise.resolve(n(s)).then(S=>S.default||S),e=[],c=await f(y.component).then(s=>o({el:l,App:$,props:{initialPage:y,initialComponent:s,resolveComponent:f,titleCallback:u,onHeadUpdate:T?S=>e=S:null}}));if(!T&&a&&(0,Z.setupProgress)(a),T){let s=await d((0,ee.createElement)("div",{id:r,"data-page":JSON.stringify(y)},c));return{head:e,body:s}}}var R=G(require("react"),1);var fe=function({children:r,title:n}){let o=(0,R.useContext)(M),u=(0,R.useMemo)(()=>o.createProvider(),[o]);(0,R.useEffect)(()=>()=>{u.disconnect()},[u]);function a(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1}function F(e){let c=Object.keys(e.props).reduce((s,S)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(S))return s;let P=e.props[S];return P===""?s+` ${S}`:s+` ${S}="${P}"`},"");return`<${e.type}${c}>`}function d(e){return typeof e.props.children=="string"?e.props.children:e.props.children.reduce((c,s)=>c+T(s),"")}function T(e){let c=F(e);return e.props.children&&(c+=d(e)),e.props.dangerouslySetInnerHTML&&(c+=e.props.dangerouslySetInnerHTML.__html),a(e)||(c+=`</${e.type}>`),c}function l(e){return R.default.cloneElement(e,{inertia:e.props["head-key"]!==void 0?e.props["head-key"]:""})}function y(e){return T(l(e))}function f(e){let c=(Array.isArray(e)?e:[e]).filter(s=>s).map(s=>y(s));return n&&!c.find(s=>s.startsWith("<title"))&&c.push(`<title inertia>${n}</title>`),c}return u.update(f(r)),null},te=fe;var b=require("@inertiajs/core"),x=require("react"),h=()=>{},me=(0,x.forwardRef)(({children:r,as:n="a",data:o={},href:u,method:a=b.Method.GET,preserveScroll:F=!1,preserveState:d=null,replace:T=!1,only:l=[],headers:y={},queryStringArrayFormat:f="brackets",onClick:e=h,onCancelToken:c=h,onBefore:s=h,onStart:S=h,onProgress:P=h,onFinish:D=h,onCancel:v=h,onSuccess:B=h,onError:E=h,...V},w)=>{let H=(0,x.useCallback)(i=>{e(i),(0,b.shouldIntercept)(i)&&(i.preventDefault(),b.router.visit(u,{data:o,method:a,preserveScroll:F,preserveState:d??a!=="get",replace:T,only:l,headers:y,onCancelToken:c,onBefore:s,onStart:S,onProgress:P,onFinish:D,onCancel:v,onSuccess:B,onError:E}))},[o,u,a,F,d,T,l,y,e,c,s,S,P,D,v,B,E]);n=n.toLowerCase(),a=a.toLowerCase();let[C,t]=(0,b.mergeDataIntoQueryString)(a,u||"",o,f);return u=C,o=t,n==="a"&&a!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${u}" method="${a}" as="button">...</Link>`),(0,x.createElement)(n,{...V,...n==="a"?{href:u}:{},ref:w,onClick:H},r)}),re=me;var _=require("@inertiajs/core"),oe=G(require("lodash.isequal"),1),g=require("react");var K=require("@inertiajs/core"),U=require("react");function A(r,n){let[o,u]=(0,U.useState)(()=>{let a=K.router.restore(n);return a!==void 0?a:r});return(0,U.useEffect)(()=>{K.router.remember(o,n)},[o,n]),[o,u]}function W(r,n){let o=(0,g.useRef)(null),u=typeof r=="string"?r:null,[a,F]=(0,g.useState)((typeof r=="string"?n:r)||{}),d=(0,g.useRef)(null),T=(0,g.useRef)(null),[l,y]=u?A(a,`${u}:data`):(0,g.useState)(a),[f,e]=u?A({},`${u}:errors`):(0,g.useState)({}),[c,s]=(0,g.useState)(!1),[S,P]=(0,g.useState)(!1),[D,v]=(0,g.useState)(null),[B,E]=(0,g.useState)(!1),[V,w]=(0,g.useState)(!1),H=t=>t;(0,g.useEffect)(()=>(o.current=!0,()=>{o.current=!1}),[]);let C=(0,g.useCallback)((t,i,p={})=>{let I={...p,onCancelToken:m=>{if(d.current=m,p.onCancelToken)return p.onCancelToken(m)},onBefore:m=>{if(E(!1),w(!1),clearTimeout(T.current),p.onBefore)return p.onBefore(m)},onStart:m=>{if(P(!0),p.onStart)return p.onStart(m)},onProgress:m=>{if(v(m),p.onProgress)return p.onProgress(m)},onSuccess:m=>{if(o.current&&(P(!1),v(null),e({}),s(!1),E(!0),w(!0),T.current=setTimeout(()=>{o.current&&w(!1)},2e3)),p.onSuccess)return p.onSuccess(m)},onError:m=>{if(o.current&&(P(!1),v(null),e(m),s(!0)),p.onError)return p.onError(m)},onCancel:()=>{if(o.current&&(P(!1),v(null)),p.onCancel)return p.onCancel()},onFinish:()=>{if(o.current&&(P(!1),v(null)),d.current=null,p.onFinish)return p.onFinish()}};t==="delete"?_.router.delete(i,{...I,data:H(l)}):_.router[t](i,H(l),I)},[l,e]);return{data:l,setData(t,i){y(typeof t=="string"?{...l,[t]:i}:typeof t=="function"?p=>t(p):t)},isDirty:!(0,oe.default)(l,a),errors:f,hasErrors:c,processing:S,progress:D,wasSuccessful:B,recentlySuccessful:V,transform(t){H=t},setDefaults(t,i){F(typeof t>"u"?()=>l:p=>({...p,...typeof t=="string"?{[t]:i}:t}))},reset(...t){t.length===0?y(a):y(Object.keys(a).filter(i=>t.includes(i)).reduce((i,p)=>(i[p]=a[p],i),{...l}))},setError(t,i){e(p=>{let I={...p,...typeof t=="string"?{[t]:i}:t};return s(Object.keys(I).length>0),I})},clearErrors(...t){e(i=>{let p=Object.keys(i).reduce((I,m)=>({...I,...t.length>0&&!t.includes(m)?{[m]:i[m]}:{}}),{});return s(Object.keys(p).length>0),p})},submit:C,get(t,i){C("get",t,i)},post(t,i){C("post",t,i)},put(t,i){C("put",t,i)},patch(t,i){C("patch",t,i)},delete(t,i){C("delete",t,i)},cancel(){d.current&&d.current.cancel()}}}var ne=require("react");function q(){let r=(0,ne.useContext)(L);if(!r)throw new Error("usePage must be used within the Inertia component");return r}var ge=ae.router;
//# sourceMappingURL=index.js.map
